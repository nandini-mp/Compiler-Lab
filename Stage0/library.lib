MOV R15, SP
SUB R15, 5
MOV R1, [R15]
ADD R15, 1
MOV R2, [R15]
ADD R15, 1
MOV R3, [R15]
ADD R15, 1
MOV R4, [R15]
ADD R15, 1
MOV R5, [R15]
MOV R6, "Read"
EQ R6, R1
JNZ R6, 42
MOV R6, "Write"
EQ R6, R1
JNZ R6, 76
MOV R6, "Exit"
EQ R6, R1
JNZ R6, 110
JMP 124
MOV R0, 7
PUSH R0
MOV R0, -1
PUSH R0
PUSH R3
PUSH R0
PUSH R0
INT 6
POP R1
POP R0
POP R0
POP R0
POP R0
MOV R0, SP
SUB R0, 1
MOV [R0], R1
JMP 124
MOV R0, 5
PUSH R0
MOV R0, -2
PUSH R0
PUSH R3
PUSH R0
PUSH R0
INT 7
POP R1
POP R0
POP R0
POP R0
POP R0
MOV R0, SP
SUB R0, 1
MOV [R0], R1
JMP 124
MOV R0, 10
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
INT 10
RET
